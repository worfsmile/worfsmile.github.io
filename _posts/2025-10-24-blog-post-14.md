---
title: 'Conda 相关'
date: 2025-10-24
permalink: /posts/2025/10/blog-post-14/
tags:

---

export CUDA_HOME=/usr/local/cuda-11.8: cpp_extension 或 NVCC 编译会用这个变量找到 CUDA 的头文件和库

export CUDNN_HOME=/home/syz/WM/lyra-main/dependence/cudnn-linux-x86_64-9.14.0.64_cuda12-archive: cuDNN 解压路径不是系统安装路径

export CPATH=$CUDNN_HOME/include:$CPATH: 告诉编译器 .h 文件在哪里找

export LIBRARY_PATH=$CUDNN_HOME/lib:$LIBRARY_PATH: 告诉编译器静态库 .a 或动态库 .so 文件在哪里找

LD_LIBRARY_PATH: 运行时动态链接库搜索路径 告诉系统运行时去哪里找 .so 动态库

export PATH=$CUDA_HOME/bin:$PATH: 添加 CUDA 的 bin 目录到系统 PATH

export LD_LIBRARY_PATH=$CUDA_HOME/lib64:$LD_LIBRARY_PATH: 告诉 动态链接器dynamic linker去哪里找动态库 .so

| 环境变量                      | 类型       | 用途                                              | 典型值 / 示例                                                              |
| ------------------------- | -------- | ----------------------------------------------- | --------------------------------------------------------------------- |
| `CUDA_HOME` / `CUDA_PATH` | 编译       | 指定 CUDA 根目录，NVCC、CMake、PyTorch cpp_extension 会用 | `/usr/local/cuda-11.8`                                                |
| `CUDNN_HOME`              | 编译       | 指定 cuDNN 解压路径，包含 `include` 和 `lib`              | `/home/user/dependence/cudnn-linux-x86_64-9.14.0.64_cuda12-archive`   |
| `CPATH`                   | 编译       | 告诉编译器 `.h` 头文件搜索路径                              | `$CUDNN_HOME/include:$CPATH`                                          |
| `LIBRARY_PATH`            | 编译       | 告诉编译器静态库 `.a` 或动态库 `.so` 搜索路径                   | `$CUDNN_HOME/lib:$LIBRARY_PATH`                                       |
| `LD_LIBRARY_PATH`         | 运行时      | 告诉系统运行时去哪里找动态库 `.so`                            | `$CUDA_HOME/lib64:$CUDNN_HOME/lib:$CONDA_PREFIX/lib:$LD_LIBRARY_PATH` |
| `PATH`                    | 编译 / 运行时 | 添加可执行文件搜索路径，如 `nvcc`、`cuda binaries`            | `$CUDA_HOME/bin:$PATH`                                                |
| `TORCH_CUDA_ARCH_LIST`    | 编译       | PyTorch cpp_extension 指定 GPU 架构                 | `8.9`                                                                 |
| `PYTHONPATH`              | 编译 / 运行时 | Python 模块搜索路径，保证自定义包能被导入                        | `$(pwd)`                                                              |
| `CC` / `CXX`              | 编译       | 指定 C / C++ 编译器                                  | `gcc` / `g++`                                                         |
| `CFLAGS` / `CXXFLAGS`     | 编译       | C / C++ 编译器选项                                   | `-O2 -Wall`                                                           |
| `LDFLAGS`                 | 编译 / 链接  | 链接器选项，指定库搜索路径或链接库                               | `-L/path/to/lib -lcuda`                                               |
| `PKG_CONFIG_PATH`         | 编译       | pkg-config 查找库的路径                               | `/usr/local/lib/pkgconfig`                                            |
| `CMAKE_PREFIX_PATH`       | 编译       | CMake 查找库的根路径                                   | `/usr/local/cuda-11.8`                                                |

