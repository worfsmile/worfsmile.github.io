---
title: 'trellis3d'
date: 2025-09-26
permalink: /posts/2025/09/blog-post-5/
tags:

---

Structured 3D Latents for Scalable and Versatile 3D Generation
======

- 渲染方式: 外观建模 (nerf, gs)
- 3D表征: 形状建模 (pc, mesh, sdf)
- main problem: 同一的潜在空间
- This paper builds a unified and versatile latent space (Structured LATents)

Main Structure
======

- A powerful unified latent space
- A powerful vision foundation model for detailed information encoding

- High quality
- Versatile generation
- Flexible editing
- Fitting-free training

- Multi-view representation

$$
f = \{(f_i, p_i)\}^{L}_{i=1},f_i\in \R^{C}, p_i\in \{0,1,...,N-1\}^{3}
$$

- Structured Latent Representation

$$
z = \{(z_i, p_i)\}^{L}_{i=1},z_i\in \R^{C}, p_i\in \{0,1,...,N-1\}^{3}
$$

Decode to different representations
======

[cp分解](https://zhuanlan.zhihu.com/p/302453223)

- 局部体积是一个 8³ 的小立方体
- 通过 CP 分解 用 3 个 16×8 矩阵 + 1 个 16×4 矩阵 来近似表示
- 局部体积里光的“密度/强度”在 x、y、z 三个方向上的分布
- 局部体积颜色/光强

$$
R^{8x8x8x(1+C)}\rarr 3 \times R^{16x8}, R^{16x4}
$$

- 8 矩阵表示每个小块有$8^3$个点
- 4 矩阵表示每个点的4个颜色通道
- 16 用16个通道表示

3x16x8+16x4 << 8x8x8x(1+C)

$$
\sigma(x,y,z) \approx \sum_{r=1}^{16} v^{x}[r,x] \otimes v^{y}[r,y] \otimes v^{z}[r,z]
$$
求一个点$\sigma(x,y,z)$: $\sum_{r=1}^{16} v^{x}[r,x] \times v^{y}[r,y] \times v^{z}[r,z]$
$$
c(x,y,z) \approx \sum_{r=1}^{16} v^{c}[r,:]·\sigma(x,y,z)
$$

FlexiCubes
======

$w_j^i$ 控制 cube 的局部形状 $d_j^i$ 量化表面距离

Gaussian
======

$$
D_{GS} =(z_i，p_i)_{i=1}^{L} \rarr\{\{(o_i^k,c_i^k,s_i^k,\alpha_i^k,r_i^k)\}_{k=1}^{K}\}_{i=1}^{L}\leftrightarrow (\mu, c, \Sigma, \alpha)
$$

![Gaussian](https://worfsmile.github.io//assets/images/2025-09-26-blog-post-5/Gaussian.png)

- 3D 高斯椭球
- 透视投影3D -> 2D
  - 点投影加协方差矩阵投影(雅可比矩阵近似仿射变换)
- 球谐函数表达颜色
  - $d\rarr rgb$
  - 环境贴图
- $C = T_i\alpha_i c_i$
  - 没有粒子采样
  - 对$z$进行排序

Evaluation
======

- PSNR(Peak Signal-to-Noise Ratio)
  - $10 log_{10} \frac{L^2}{||MSE||}$
- LPIPS(Learned Perceptual Image Patch Similarity)
  - $\frac{1}{HW}\sum_{ij}||Conv(img1)-Conv(img2)||$
- CD
  - $\frac{1}{|P|}\sum_{p\in P}\underset{min}{\hat{p}\in \hat{P}}|\hat{p}-p|+\frac{1}{|\hat{P}|}\sum_{\hat{p}\in \hat{P}}\underset{min}{p\in P}|\hat{p}-p|$
- F-score
  - $\frac{PR}{P+R} \text{True}:|\hat{p}-p| \leq \epsilon$
- -N: noval view
